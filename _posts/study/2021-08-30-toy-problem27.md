---
layout: post
title: "[ToyProblem] 27_gossipProtocol"
subtitle: "BFS"
date: 2021-08-30 09:00:00 +0900
categories: study
tags: algorithm
comments: true
published: false
---

# Í∞úÏöî

- Î™©Ï∞®
  - [1.Î¨∏Ï†ú‚úâÔ∏è](#1.Î¨∏Ï†ú)
  - [2.Î†àÌçºÎü∞Ïä§ÏΩîÎìúüîñ](#2.Î†àÌçºÎü∞Ïä§ÏΩîÎìú)
  - [3.ÌÇ§Ìè¨Ïù∏Ìä∏üîê](#3.ÌÇ§Ìè¨Ïù∏Ìä∏üîë)

# 1. Î¨∏Ï†ú

ÏÑ∏Î°úÏôÄ Í∞ÄÎ°úÏùò Í∏∏Ïù¥Í∞Ä Í∞ÅÍ∞Å M, NÏù∏ ÎßàÏùÑÏßÄÎèÑÍ∞Ä Î∞∞Ïó¥Î°ú Ï£ºÏñ¥Ï°åÏùÑ Îïå, `'1'`ÏùÄ Ï£ºÎØºÏù¥ ÏûàÎäî ÏßëÏùÑ ÏùòÎØ∏ÌïòÍ≥† `'0'`ÏùÄ Ï£ºÎØºÏù¥ ÏóÜÎäî ÎïÖÏùÑ ÏùòÎØ∏Ìï©ÎãàÎã§. Ïù¥ ÎßàÏùÑÏùÄ ÏÜåÎ¨∏Ïù¥ ÏãúÏûëÎêòÎ©¥ ÌïòÎ£®Ïóê ÏÉÅÌïòÏ¢åÏö∞ Ìïú Ïπ∏ Î∞îÎ°ú ÏòÜÏóê ÏûàÎäî ÏßëÏúºÎ°ú ÌçºÏßëÎãàÎã§. ÌäπÏ†ï Ï£ºÎØºÏùò Ïßë (R, C)ÏúºÎ°úÎ∂ÄÌÑ∞ Ïñ¥Îñ§ ÏÜåÎ¨∏Ïù¥ ÏãúÏûëÎê† Í≤ΩÏö∞, ÎßàÏùÑ Ï†ÑÏ≤¥Î°ú ÏÜåÎ¨∏Ïù¥ ÌçºÏßÄÎäîÎç∞ Í±∏Î¶¨Îäî ÏãúÍ∞Ñ(Ïùº)ÏùÑ Î¶¨ÌÑ¥Ìï¥Ïïº Ìï©ÎãàÎã§.

## ÏûÖÎ†•

### Ïù∏Ïûê 1 : village

- `string` ÌÉÄÏûÖÏùÑ ÏöîÏÜåÎ°ú Í∞ñÎäî Î∞∞Ïó¥
- `village.length`Îäî M
- `village[i]`Îäî `string` ÌÉÄÏûÖ
- `village[i].length`Îäî N
- `village[i][j]`Îäî ÏÑ∏Î°úÎ°ú i, Í∞ÄÎ°úÎ°ú jÏù∏ ÏßÄÏ†êÏùò Ï†ïÎ≥¥Î•º ÏùòÎØ∏
- `village[i][j]`Îäî `'0'` ÎòêÎäî `'1'`

### Ïù∏Ïûê 2: row

- `number` ÌÉÄÏûÖÏùò 0 Ïù¥ÏÉÅÏùò Ï†ïÏàò
- ÏÜåÎ¨∏Ïù¥ ÏãúÏûëÎêòÎäî ÏßëÏùò ÏÑ∏Î°ú ÏúÑÏπò

### Ïù∏Ïûê 3: col

- `number` ÌÉÄÏûÖÏùò 0 Ïù¥ÏÉÅÏùò Ï†ïÏàò
- ÏÜåÎ¨∏Ïù¥ ÏãúÏûëÎêòÎäî ÏßëÏùò Í∞ÄÎ°ú ÏúÑÏπò

## Ï∂úÎ†•

- `number` ÌÉÄÏûÖÏùÑ Î¶¨ÌÑ¥Ìï¥Ïïº Ìï©ÎãàÎã§.

## Ï£ºÏùòÏÇ¨Ìï≠

- M, NÏùÄ 100 Ïù¥ÌïòÏùò ÏûêÏó∞ÏàòÏûÖÎãàÎã§.
- `row`, `col`ÏóêÎäî Ìï≠ÏÉÅ Ï£ºÎØºÏù¥ ÏÇ¥Í≥† ÏûàÏäµÎãàÎã§.
- Î™®Îì† ÏßëÏùÄ Ïó∞Í≤∞ÎêòÏñ¥ ÏûàÏäµÎãàÎã§. Ï¶â, Ìïú ÏßëÏóêÏÑú Îã§Î•∏ ÏßëÏúºÎ°ú Í∞ÄÎäî Í≤ΩÎ°úÍ∞Ä Ìï≠ÏÉÅ Ï°¥Ïû¨Ìï©ÎãàÎã§.
- villageÎ•º Í∑∏ÎûòÌîÑÎ°ú Íµ¨ÌòÑÌïòÎäî Ìï®ÏàòÍ∞Ä Ï£ºÏñ¥ÏßëÎãàÎã§.

## ÏûÖÏ∂úÎ†• ÏòàÏãú

```javascript
let village = [
  '0101', // Ï≤´ Î≤àÏß∏ Ï§Ñ
  '0111',
  '0110',
  '0100',
];
let row = 1;
let col = 2;
let output = gossipProtocol(village, row, col);
console.log(output); // --> 3
/*
1. ÏãúÏûë: (1, 2)ÏóêÏÑú ÏãúÏûë, ÏÜåÎ¨∏Ïù¥ ÌçºÏßÑ Í≥≥ÏùÑ xÎ°ú ÌëúÍ∏∞
 [
  '0101',
  '01x1',
  '0110',
  '0100',
 ]

2. 1Ïùº Îí§
 [
  '0101',
  '0xxx',
  '01x0',
  '0100',
 ]

3. 2Ïùº Îí§
 [
  '0x0x',
  '0xxx',
  '0xx0',
  '0100',
 ]

4. 3Ïùº Îí§: ÏÜåÎ¨∏Ïù¥ Ï†ÑÎ∂Ä ÌçºÏßê (ÎÅù)
 [
  '0x0x',
  '0xxx',
  '0xx0',
  '0x00',
 ]
/*
```

---

# 2. Î†àÌçºÎü∞Ïä§ ÏΩîÎìú

## Ï¥àÍ∏∞Ìôî

```javascript
const createMatrix = (village) => {
  const matrix = [];
  village.forEach((line) => {
    const row = [];
    for (let i = 0; i < line.length; i++) row.push(line[i]);
    matrix.push(row);
  });
  return matrix;
};

const gossipProtocol = function (village, row, col) {
  // TODO: Ïó¨Í∏∞Ïóê ÏΩîÎìúÎ•º ÏûëÏÑ±Ìï©ÎãàÎã§.
};
```

## Î†àÌçºÎü∞Ïä§

```javascript
const createMatrix = (village) => {
  const matrix = [];
  village.forEach((line) => {
    const row = [];
    for (let i = 0; i < line.length; i++) row.push(line[i]);
    matrix.push(row);
  });
  return matrix;
};

const gossipProtocol = function (village, row, col) {
  // bfs Íµ¨ÌòÑÏùÑ ÏúÑÌï¥ ÌÅêÎ•º ÏÑ†Ïñ∏ÌïúÎã§.
  // enQueue, deQueueÏãúÎßàÎã§ Ïù∏Îç±Ïã±ÏùÑ Îã§Ïãú ÌïòÏßÄ ÏïäÍ∏∞ ÏúÑÌï¥
  // ÏàúÌôò ÌÅê(circular queue)Î°ú Íµ¨ÌòÑÌïúÎã§.
  // queueÏùò Í∞ÄÎä•Ìïú ÏµúÎåÄ ÌÅ¨Í∏∞ÎßåÌÅº Î∞∞Ïó¥ÏùÑ ÏÑ†Ïñ∏ÌïúÎã§.
  // Î¨∏Ï†úÏùò ÌäπÏÑ±Ïóê Îî∞Îùº ÌÅêÏóêÎäî Ï¢åÌëú ÌèâÎ©¥Ïùò Ìïú Ï†êÏù¥ ÏÇΩÏûÖÎêòÍ≥†, ÌïúÎ≤à ÏÇΩÏûÖÎêú ÏöîÏÜåÎäî Îëê Î≤à Îã§Ïãú ÏÇΩÏûÖÎêòÏßÄ ÏïäÎäîÎã§.

  // TODO: Ïó¨Í∏∞Ïóê ÏΩîÎìúÎ•º ÏûëÏÑ±Ìï©ÎãàÎã§.
  const R = village.length;
  const C = village[0].length;
  const matrix = createMatrix(village);
  const MOVES = [
    [-1, 0], // UP
    [1, 0], // DOWN
    [0, 1], // RIGHT
    [0, -1], // LEFT
  ];
  const MAX_SIZE = R * C; // Í∞ÄÎä•Ìïú Î™®Îì† Ï¢åÌëúÏùò ÌÅ¨Í∏∞ÎßåÌÅº ÌÅêÍ∞Ä ÏÑ†Ïñ∏ÎêòÏóàÏúºÎØÄÎ°ú, ÏÇ¨Ïã§ ÏàúÌôòÌÅêÏùº ÌïÑÏöîÎäî ÏóÜÎã§.
  const isValid = (row, col) => row >= 0 && row < R && col >= 0 && col < C;
  const queue = Array(MAX_SIZE);
  let front = 0;
  let rear = 0;
  const isEmpty = (queue) => front === rear;
  const enQueue = (queue, pos) => {
    // Ïã§Ìñâ Ï§ëÏóê ÌÅêÍ∞Ä Í∞ÄÎìùÏ∞®ÏßÄÎäî ÏïäÍ∏∞ ÎïåÎ¨∏Ïóê Î≥ÑÎèÑÏùò Ï°∞Í±¥Î¨∏ÏùÑ ÏûëÏÑ±Ìï† ÌïÑÏöîÍ∞Ä ÏóÜÎã§.
    queue[rear] = pos;
    // Î™®ÎìàÎü¨Ïä§ Ïó∞ÏÇ∞ÏùÑ Ìï† ÌïÑÏöîÎèÑ ÏÇ¨Ïã§ ÏóÜÎã§.
    rear = (rear + 1) % MAX_SIZE;
  };
  const deQueue = (queue) => {
    const pos = queue[front];
    // Î™®ÎìàÎü¨Ïä§ Ïó∞ÏÇ∞ÏùÑ Ìï† ÌïÑÏöîÎèÑ ÏÇ¨Ïã§ ÏóÜÎã§.
    front = (front + 1) % MAX_SIZE;
    return pos;
  };

  let cnt = 0;
  enQueue(queue, [row, col]);
  // ÏÜåÎ¨∏Ïù¥ ÌçºÏßÄÎäî Îç∞ Í±∏Î¶¨Îäî ÏãúÍ∞ÑÏùÑ Ï†ÄÏû•ÌïúÎã§.
  matrix[row][col] = 0;
  while (isEmpty(queue) === false) {
    // ÌÅêÏùò Í∞ÄÏû• Ïïû ÏûêÎ¶¨Ïùò Ï¢åÌëúÎ•º ÏñªÎäîÎã§.
    const [row, col] = deQueue(queue);
    cnt = matrix[row][col];

    // ÌòÑÏû¨ ÏßÄÏ†êÏùÑ Í∏∞Ï§ÄÏúºÎ°ú ÎÑ§ Î∞©Ìñ•ÏùÑ Í≤ÄÌÜ†ÌïúÎã§.
    MOVES.forEach((move) => {
      const [rDiff, cDiff] = move;
      const nextRow = row + rDiff;
      const nextCol = col + cDiff;
      if (isValid(nextRow, nextCol) && matrix[nextRow][nextCol] === "1") {
        enQueue(queue, [nextRow, nextCol]);
        matrix[nextRow][nextCol] = matrix[row][col] + 1;
      }
    });
  }
  return cnt;
};
```

---

# 3. ÌÇ§Ìè¨Ïù∏Ìä∏

- `23_spiralTraversal`, `25_robotPath`ÏôÄÏùò Ïó∞Í¥ÄÏÑ±

---
