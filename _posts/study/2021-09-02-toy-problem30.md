---
layout: post
title: "[ToyProblem] 30_heapSort"
subtitle: "(coming soon)"
date: 2021-09-02 09:00:00 +0900
categories: study
tags: algorithm
comments: true
published: false
---

# ê°œìš”

- ëª©ì°¨
  - [1.ë¬¸ì œâœ‰ï¸](#1.ë¬¸ì œ)
  - [2.ë ˆí¼ëŸ°ìŠ¤ì½”ë“œğŸ”–](#2.ë ˆí¼ëŸ°ìŠ¤ì½”ë“œ)
  - [3.í‚¤í¬ì¸íŠ¸ğŸ”](#3.í‚¤í¬ì¸íŠ¸ğŸ”‘)
  - [4.ì¶œì²˜ğŸ”](#4.ì¶œì²˜ğŸ”)

# 1. ë¬¸ì œ

ì •ìˆ˜ë¥¼ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´ì„ ì…ë ¥ë°›ì•„ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ë¦¬í„´í•´ì•¼ í•©ë‹ˆë‹¤.

## ì…ë ¥

### ì¸ì 1 : arr

- `number` íƒ€ì…ì„ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´
- `arr[i]`ëŠ” -100,000 ì´ìƒ 100,000 ì´í•˜ì˜ ì •ìˆ˜
- `arr.length`ëŠ” 100,000 ì´í•˜

## ì¶œë ¥

- `number` íƒ€ì…ì„ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´ì„ ë¦¬í„´í•´ì•¼ í•©ë‹ˆë‹¤.

## ì£¼ì˜ì‚¬í•­

- **í™ ì •ë ¬**ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.
- `arr.sort` ì‚¬ìš©ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ ë°°ì—´ì€ ì¤‘ì²©ë˜ì§€ ì•Šì€ 1ì°¨ì› ë°°ì—´ì…ë‹ˆë‹¤.
- **ìµœì†Œ í™(min heap)**ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.
- ìµœì†Œ í™ êµ¬í˜„ì„ ìœ„í•´ ì„ ì–¸ëœ í•¨ìˆ˜ë“¤(`getParentIdx`, `insert`, `removeRoot`)ì„ ì „ë¶€ ì™„ì„±í•´ì•¼ í•©ë‹ˆë‹¤.
- `swap`, `getParentIdx`, `insert`, `removeRoot`ë¥¼ ì „ë¶€ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- `swap`, `binaryHeap`ì„ ìˆ˜ì •í•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.
- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ì„œ í™ í•¨ìˆ˜ë“¤ì„ ì •í™•íˆ êµ¬í˜„í–ˆëŠ”ì§€ í•¨ê»˜ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
- `removeRoot`ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” `O(logN)`ì…ë‹ˆë‹¤.

## ì…ì¶œë ¥ ì˜ˆì‹œ

```javascript
let output = heapSort([5, 4, 3, 2, 1]);
console.log(output); // --> [1, 2, 3, 4, 5]

output = heapSort([3, 1, 21]);
console.log(output); // --> [1, 3, 21]

output = heapSort([4, 10, 3, 5, 1]);
console.log(output); // --> [1, 3, 4, 5, 10]
```

## íŒíŠ¸

- ì•ì—ì„œ ë§í–ˆë“¯ì´, ìµœì†Œ í™ì€ ìµœëŒ€ í™ê³¼ êµ¬í˜„ì´ ê±°ì˜ ì¼ì¹˜í•©ë‹ˆë‹¤. ì•„ë˜ ë§í¬ë¥¼ ë‹¤ì‹œ í•œë²ˆ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
  - [https://www.cs.usfca.edu/~galles/visualization/Heap.html](https://www.cs.usfca.edu/~galles/visualization/Heap.html)
- ì•„ë˜ì™€ ê°™ì€ ìµœì†Œ í™ì—ì„œ ë£¨íŠ¸ ë…¸ë“œì˜ ê°’(2)ì€ ì „ì²´ ë…¸ë“œì˜ ê°’ ì¤‘ì—ì„œ ê°€ì¥ ì‘ìŠµë‹ˆë‹¤. ë£¨íŠ¸ ë…¸ë“œë¥¼ ì œê±°í•œ í›„ì—ë„ ìµœì†Œ í™ì„ ìœ ì§€í•´ì•¼ í•˜ë ¤ë©´ ì–´ë–¤ ì‘ì—…ì´ í•„ìš”í•œ ì§€ ê³ ë¯¼í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. 2ê°€ ì œê±°ëœ í›„ì˜ ìµœì†Œ í™ì˜ ë£¨íŠ¸ ë…¸ë“œëŠ” 2ë¥¼ ì œì™¸í•œ ê°’ ì¤‘ ê°€ì¥ ì‘ì€ ê°’(3)ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì€ ì‚¬ì‹¤ë¡œë¶€í„° í™ ì •ë ¬ì— ëŒ€í•œ ì•„ì´ë””ì–´ë¥¼ ì–»ê¸¸ ë°”ëë‹ˆë‹¤.
  - ë£¨íŠ¸ ë…¸ë“œë¥¼ ì œê±°í•˜ê³ (ê°€ì¥ ì‘ì€ ê°’ì„ ì œê±°í•˜ê³ ) ë‹¤ì‹œ ìµœì†Œ í™ì„ ìœ ì§€í•˜ë©´, ìƒˆë¡œìš´ ë£¨íŠ¸ ë…¸ë“œì˜ ê°’ì€ ê·¸ ë‹¤ìŒìœ¼ë¡œ ê°€ì¥ ì‘ì€ ê°’ì´ë‹¤.

```
2
/ \
 5 3
/ \ / \
6 8 7 9
```

---

# 2. ë ˆí¼ëŸ°ìŠ¤ ì½”ë“œ

## ì´ˆê¸°í™”

```javascript
// ì•„ë˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
function swap(idx1, idx2, arr) {
  [arr[idx1], arr[idx2]] = [arr[idx2], arr[idx1]];
}

function getParentIdx(idx) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
}

function insert(heap, item) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
}

function removeRoot(heap) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
}

// ì•„ë˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
const binaryHeap = function (arr) {
  return arr.reduce((heap, item) => {
    return insert(heap, item);
  }, []);
};

const heapSort = function (arr) {
  let minHeap = binaryHeap(arr);
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
};
```

## ë ˆí¼ëŸ°ìŠ¤

```javascript
// ì•„ë˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
function swap(idx1, idx2, arr) {
  [arr[idx1], arr[idx2]] = [arr[idx2], arr[idx1]];
}

function getParentIdx(idx) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
  return Math.floor((idx - 1) / 2);
}

function insert(heap, item) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
  heap.push(item);
  if (heap.length > 1) {
    let curIdx = heap.length - 1;
    let pIdx = getParentIdx(curIdx);
    while (pIdx >= 0 && heap[curIdx] < heap[pIdx]) {
      swap(curIdx, pIdx, heap);
      curIdx = pIdx;
      pIdx = getParentIdx(curIdx);
    }
  }
  return heap;
}

function removeRoot(heap) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
  swap(0, heap.length - 1, heap);
  heap.pop();
  if (heap.length === 0) return [];

  let curIdx;
  let minIdx = 0;
  while (curIdx !== minIdx) {
    curIdx = minIdx;
    let left = curIdx * 2 + 1;
    let right = curIdx * 2 + 2;
    if (left < heap.length && heap[left] < heap[minIdx]) {
      minIdx = left;
    }

    if (right < heap.length && heap[right] < heap[minIdx]) {
      minIdx = right;
    }

    swap(curIdx, minIdx, heap);
  }

  return heap;
}

// ì•„ë˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
const binaryHeap = function (arr) {
  return arr.reduce((heap, item) => {
    return insert(heap, item);
  }, []);
};

const heapSort = function (arr) {
  let minHeap = binaryHeap(arr);
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
  const sorted = [];
  while (minHeap.length > 0) {
    sorted.push(minHeap[0]);
    minHeap = removeRoot(minHeap);
  }
  return sorted;
};
```

---

# 3. í‚¤í¬ì¸íŠ¸

---

# 4. ì¶œì²˜
