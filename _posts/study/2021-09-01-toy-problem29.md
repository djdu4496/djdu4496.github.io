---
layout: post
title: "[ToyProblem] 29_binaryHeap"
subtitle: "(coming soon)"
date: 2021-09-01 09:00:00 +0900
categories: study
tags: algorithm
comments: true
published: false
---

# ê°œìš”

- ëª©ì°¨
  - [1.ë¬¸ì œâœ‰ï¸](#1.ë¬¸ì œ)
  - [2.ë ˆí¼ëŸ°ìŠ¤ì½”ë“œğŸ”–](#2.ë ˆí¼ëŸ°ìŠ¤ì½”ë“œ)
  - [3.í‚¤í¬ì¸íŠ¸ğŸ”](#3.í‚¤í¬ì¸íŠ¸ğŸ”‘)
  - [4.ì¶œì²˜ğŸ”](#4.ì¶œì²˜ğŸ”)

# 1. ë¬¸ì œ

ì •ìˆ˜ë¥¼ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´ì„ ì…ë ¥ë°›ì•„ ì´ì§„ í™(binary heap)\*ì„ ë¦¬í„´í•´ì•¼ í•©ë‹ˆë‹¤.

- ì´ì§„ í™(binary heap)ì€ ë…¸ë“œì˜ ê°’ì´ íŠ¹ì •í•œ ìˆœì„œë¥¼ ê°€ì§€ê³  ìˆëŠ” ì™„ì „ ì´ì§„ íŠ¸ë¦¬(Complete Binary Tree)ì…ë‹ˆë‹¤.
- ì™„ì „ ì´ì§„ íŠ¸ë¦¬ëŠ” ì´ì§„ íŠ¸ë¦¬ì˜ (ë§ˆì§€ë§‰ ë ˆë²¨ ë˜ëŠ” ë§ˆì§€ë§‰ ê¹Šì´ë¥¼ ì œì™¸í•˜ê³ ) ëª¨ë“  ë ˆë²¨ì´ ë…¸ë“œë¡œ ê°€ë“ ì±„ì›Œì ¸ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ ë ˆë²¨ì€ ì™¼ìª½ë¶€í„° ì°¨ë¡€ëŒ€ë¡œ ì±„ì›Œì ¸ ìˆìŠµë‹ˆë‹¤.
- ì´ì§„ í™ì—ì„œ ë¶€ëª¨ ë…¸ë“œì˜ ê°’ì´ (ì´ì§„ íŠ¸ë¦¬ì´ë¯€ë¡œ 2ê°œì˜) ìì‹ ë…¸ë“œì˜ ê°’ë³´ë‹¤ í° ê²½ìš°ë¥¼ ìµœëŒ€ í™(max heap), ë°˜ëŒ€ì˜ ê²½ìš°ë¥¼ ìµœì†Œ í™(min heap)ì´ë¼ê³  í•©ë‹ˆë‹¤.

## ì…ë ¥

### ì¸ì 1 : arr

- `number` íƒ€ì…ì„ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´
- `arr[i]`ëŠ” -100,000 ì´ìƒ 100,000 ì´í•˜ì˜ ì •ìˆ˜
- `arr.length`ëŠ” 100,000 ì´í•˜

## ì¶œë ¥

- `number` íƒ€ì…ì„ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´ì„ ë¦¬í„´í•´ì•¼ í•©ë‹ˆë‹¤.

## ì£¼ì˜ì‚¬í•­

- **ìµœëŒ€ í™(max heap)**ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.
- ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ ë°°ì—´ì€ ì¤‘ì²©ë˜ì§€ ì•Šì€ 1ì°¨ì› ë°°ì—´ì…ë‹ˆë‹¤.
- ìµœëŒ€ í™ êµ¬í˜„ì„ ìœ„í•´ ì„ ì–¸ëœ í•¨ìˆ˜ë“¤(`getParentIdx`, `insert`)ì„ ì „ë¶€ ì™„ì„±í•´ì•¼ í•©ë‹ˆë‹¤.
- `swap`, `getParentIdx`, `insert`ë¥¼ ì „ë¶€ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- `swap`, `binaryHeap`ì„ ìˆ˜ì •í•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.
- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ì„œ í™ í•¨ìˆ˜ë“¤ì„ ì •í™•íˆ êµ¬í˜„í–ˆëŠ”ì§€ í•¨ê»˜ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
- `insert`ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” `O(logN)`ì…ë‹ˆë‹¤.
- ì£¼ì–´ì§„ ë°°ì—´ì„ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬(`O(logN)`)í•´ë„ ìµœëŒ€ í™ì˜ ì¡°ê±´ì„ ë§Œì¡±í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ëŠ” insertë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒê³¼ëŠ” ê±°ë¦¬ê°€ ë¨¼ ë°©ë²•ì´ë©°, í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ìˆ˜ë„ ì—†ìŠµë‹ˆë‹¤.

## ì…ì¶œë ¥ ì˜ˆì‹œ

```javascript
let output = binaryHeap([5, 4, 3, 2, 1]);
console.log(output); // --> [5, 4, 3, 2, 1]

output = binaryHeap([3, 1, 21]);
console.log(output); // --> [21, 1, 3]

output = binaryHeap([4, 10, 3, 5, 1]);
console.log(output); // --> [10, 5, 3, 4, 1]
```

## íŒíŠ¸

- ì´ì§„ í™ì€ íŠ¸ë¦¬ ê°ì²´ë¥¼ ì´ìš©í•´ êµ¬í˜„í•  ìˆ˜ë„ ìˆê³ , ë°°ì—´ë¡œë„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤ ê±°ì˜ ëª¨ë“  íŠ¸ë¦¬ë¥¼ ë°°ì—´ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¸ë¦¬ë¥¼ ë°°ì—´ë¡œ êµ¬í˜„í–ˆì„ ë•Œì˜ ì¥ì ì€ (ë°ì´í„°ê°€ ì„ í˜•ì ìœ¼ë¡œ ì €ì¥ë˜ê¸° ë•Œë¬¸ì—) ì €ì¥ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆê³  ë…¸ë“œ ì ‘ê·¼ ì‹œ ì˜¤ë²„í—¤ë“œ(ì¬ê·€í˜¸ì¶œ, ë°˜ë³µë¬¸ ë“±)ê°€ ì•½ê°„ ì¤„ì–´ë“­ë‹ˆë‹¤. ë‹¤ë§Œ ì´ë¥¼ ìœ„í•´ì„œ ë§¤ìš° ë³µì¡í•œ ì¸ë±ìŠ¤ ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë°˜ë©´, íŠ¸ë¦¬ ê°ì²´ë¥¼ ì´ìš©í•œ êµ¬í˜„ì€ ì§ê´€ì (ì´í•´í•˜ê¸° ì‰¬ì›€)ì…ë‹ˆë‹¤. ê·¸ ëŒ€ì‹  ì €ì¥ ê³µê°„ê³¼ ì•½ê°„ì˜ ì˜¤ë²„í—¤ë“œë¥¼ í¬ìƒí•´ì•¼ í•©ë‹ˆë‹¤. ê±°ì˜ ëª¨ë“  ê¸°ìˆ (êµ¬í˜„)ì€ ë‹¤ìˆ˜ì˜ ì„ íƒ ì‚¬ì´ì˜ íŠ¸ë ˆì´ë“œ ì˜¤í”„(trade-off)ì…ë‹ˆë‹¤. ë¬´ì—‡ì„ ì„ íƒí•  ì§€ëŠ” ìš”êµ¬ì‚¬í•­(requirements), ì¦‰ ì£¼ì–´ì§„ ë¬¸ì œì˜ ì œì•½ê³¼ ì¡°ê±´ì„ ê³ ë ¤í•˜ì—¬ ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì ì„ ë°˜ë“œì‹œ ê¸°ì–µí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ì™„ì „ ì´ì§„ íŠ¸ë¦¬ëŠ” ë…¸ë“œê°€ ë‚®ì€ ë ˆë²¨ë¶€í„° ì±„ì›Œì§€ê³ , ê°™ì€ ë ˆë²¨ì—ì„œëŠ” ì™¼ìª½ë¶€í„° ì±„ì›Œì§€ê¸° ë•Œë¬¸ì— ë°°ì—´ë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì‰½ìŠµë‹ˆë‹¤.
- ìµœëŒ€ í™ê³¼ ì´ì§„ ê²€ìƒ‰ íŠ¸ë¦¬(binary search tree)ëŠ” ë‘˜ë‹¤ ì™„ì „ ì´ì§„ íŠ¸ë¦¬ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ì§„ ê²€ìƒ‰ íŠ¸ë¦¬ì—ì„œëŠ” ëª¨ë“  ë…¸ë“œê°€ ì •ë ¬ë˜ëŠ” ê²ƒê³¼ ë‹¬ë¦¬ ìµœëŒ€ í™ì—ì„œëŠ” ì˜¤ì§ ë¶€ëª¨ ë…¸ë“œì™€ ì§ê³„ ìì‹ë“¤ ê°„ì˜ ê´€ê³„ë§Œ ìœ ì§€ë©ë‹ˆë‹¤. ì´ëŠ” ì•„ë˜ì˜ ì‚¬ì‹¤ë¡œë¶€í„° ë°”ë¡œ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - ì´ì§„ ê²€ìƒ‰ íŠ¸ë¦¬ì—ì„œ ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œì˜ ê°’ì€ ë¶€ëª¨ ë…¸ë“œì˜ ê°’ë³´ë‹¤ í¬ì§€ë§Œ, ìµœëŒ€ í™ì—ì„œëŠ” ë¶€ëª¨ ë…¸ë“œì˜ ê°’ì´ ë‘ ìì‹ ë…¸ë“œì˜ ê°’ë³´ë‹¤ í¬ë‹¤.
- ì•„ë˜ì™€ ê°™ì€ ìµœëŒ€ í™ì—ì„œ 10ì„ ì‚½ì…í•  ê²½ìš°, ìµœëŒ€ í™ì„ ìœ ì§€í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ” ì§€ ê³ ë¯¼í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

```
  9

/ \
 6 7
/ \ / \
4 5 2
```

- ìµœì†Œ í™ì€ ë¶€ëª¨ ë…¸ë“œì˜ ê°’ì´ ë‘ ìì‹ ë…¸ë“œì˜ ê°’ë³´ë‹¤ ì‘ë‹¤ëŠ” ì ì„ ì œì™¸í•˜ê³ ëŠ” ìµœëŒ€ í™ê³¼ êµ¬í˜„ì´ ì¼ì¹˜í•©ë‹ˆë‹¤. ì•„ë˜ ë§í¬ëŠ” ìµœì†Œ í™ì˜ ë™ì‘ì„ ëˆˆìœ¼ë¡œ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
  - https://www.cs.usfca.edu/~galles/visualization/Heap.html

# 2. ë ˆí¼ëŸ°ìŠ¤ ì½”ë“œ

## ì´ˆê¸°í™”

```javascript
// ì•„ë˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
function swap(idx1, idx2, arr) {
  // ë‘ ë³€ìˆ˜ë¥¼ ë°”ê¾¸ëŠ” ë°©ë²•

  // 1) ì„ì‹œ ë³€ìˆ˜ë¥¼ í™œìš©í•œ ë°©ë²•
  // let temp = arr[idx1];
  // arr[idx1] = arr[idx2];
  // arr[idx2] = temp;

  // 2) Destructuring assignmentë¥¼ í™œìš©í•œ ë°©ë²•
  // arrì´ reference typeì´ë¼ ê°€ëŠ¥
  [arr[idx1], arr[idx2]] = [arr[idx2], arr[idx1]];

  // 3) XOR ì—°ì‚°ì„ í™œìš©í•œ ë°©ë²•
  // arrì´ reference typeì´ë¼ ê°€ëŠ¥
  // arr[idx1] ^= arr[idx2];
  // arr[idx2] ^= arr[idx1];
  // arr[idx1] ^= arr[idx2];
}

function getParentIdx(idx) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
}

function insert(heap, item) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
}

// ì•„ë˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
const binaryHeap = function (arr) {
  return arr.reduce((heap, item) => {
    return insert(heap, item);
  }, []);
};
```

## ë ˆí¼ëŸ°ìŠ¤

```javascript
// ì•„ë˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
function swap(idx1, idx2, arr) {
  // ë‘ ë³€ìˆ˜ë¥¼ ë°”ê¾¸ëŠ” ë°©ë²•

  // 1) ì„ì‹œ ë³€ìˆ˜ë¥¼ í™œìš©í•œ ë°©ë²•
  // let temp = arr[idx1];
  // arr[idx1] = arr[idx2];
  // arr[idx2] = temp;

  // 2) Destructuring assignmentë¥¼ í™œìš©í•œ ë°©ë²•
  // arrì´ reference typeì´ë¼ ê°€ëŠ¥
  [arr[idx1], arr[idx2]] = [arr[idx2], arr[idx1]];

  // 3) XOR ì—°ì‚°ì„ í™œìš©í•œ ë°©ë²•
  // arrì´ reference typeì´ë¼ ê°€ëŠ¥
  // arr[idx1] ^= arr[idx2];
  // arr[idx2] ^= arr[idx1];
  // arr[idx1] ^= arr[idx2];
}

function getParentIdx(idx) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
  return parseInt((idx - 1) / 2);
}

function insert(heap, item) {
  // TODO: ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
  heap.push(item);
  let curIdx = heap.length - 1;
  let pIdx = getParentIdx(curIdx);
  while (pIdx >= 0 && heap[curIdx] > heap[pIdx]) {
    swap(curIdx, pIdx, heap);
    curIdx = pIdx;
    pIdx = getParentIdx(curIdx);
  }
  return heap;
}

// ì•„ë˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
const binaryHeap = function (arr) {
  return arr.reduce((heap, item) => {
    return insert(heap, item);
  }, []);
};
```

---

# 3. í‚¤í¬ì¸íŠ¸

---

# 4. ì¶œì²˜
