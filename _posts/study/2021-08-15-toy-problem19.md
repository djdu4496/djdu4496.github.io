---
layout: post
title: "[ToyProblem] 19_LPS"
subtitle: "(coming soon)"
date: 2021-08-15 22:58:51 +0900
categories: study
tags: algorithm
comments: true
published: false
---

# ê°œìš”

- ëª©ì°¨
  - [1.ë¬¸ì œâœ‰ï¸](#1.ë¬¸ì œ)
  - [2.ë ˆí¼ëŸ°ìŠ¤ì½”ë“œğŸ”–](#2.ë ˆí¼ëŸ°ìŠ¤ì½”ë“œ)
  - [3.í‚¤í¬ì¸íŠ¸ğŸ”](#3.í‚¤í¬ì¸íŠ¸ğŸ”‘)
  - [4.ì¶œì²˜ğŸ”](#4.ì¶œì²˜ğŸ”)

# 1. ë¬¸ì œ

ë¬¸ìì—´ì„ ì…ë ¥ë°›ì•„ ë‹¤ìŒì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” LPS\*ë¥¼ ì°¾ì•„ ê·¸ ê¸¸ì´ë¥¼ ë¦¬í„´í•´ì•¼ í•©ë‹ˆë‹¤.

- `LPS`: ì£¼ì–´ì§„ ë¬¸ìì—´ì˜ ê°€ì¥ ê¸´ ì ‘ë‘ì–´ì´ì ì ‘ë¯¸ì–´(Longest Prefix which is also Suffix)
- `non-overlapping`: ì ‘ë‘ì–´ì™€ ì ‘ë¯¸ì–´ëŠ” ì„œë¡œ ê²¹ì¹˜ëŠ” ë¶€ë¶„ì´ ì—†ì–´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, prefixì™€ suffixëŠ” ë¬¸ìì—´ì˜ ë™ì¼í•œ ì¸ë±ìŠ¤ì— ìœ„ì¹˜í•œ ë¬¸ìë¥¼ ìš”ì†Œë¡œ ê°€ì§€ë©´ ì•ˆ ë©ë‹ˆë‹¤.

## ì…ë ¥

### ì¸ì 1 : str

- string íƒ€ì…ì˜ ì„ì˜ì˜ ì•ŒíŒŒë²³ ì†Œë¬¸ì ë¬¸ìì—´ (
- str.lengthëŠ” 60,000 ì´í•˜

## ì¶œë ¥

- number íƒ€ì…ì„ ë¦¬í„´í•´ì•¼ í•©ë‹ˆë‹¤.

## ì£¼ì˜ì‚¬í•­

- prefix(ì ‘ë‘ì–´)ëŠ” ë¬¸ìì—´ì˜ ì²« ì¸ë±ìŠ¤ë¶€í„° ì‹œì‘í•˜ëŠ” ëª¨ë“  ë¶€ë¶„ ë¬¸ìì—´ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- suffix(ì ‘ë¯¸ì–´)ëŠ” ë¬¸ìì—´ì˜ ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ë¶€í„° ì‹œì‘í•˜ëŠ” ëª¨ë“  ë¶€ë¶„ ë¬¸ìì—´ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

## ì…ì¶œë ¥ ì˜ˆì‹œ

```javascript
let output = LPS("abbbcc");
console.log(output); // --> 0

output = LPS("aaaa");
console.log(output); // --> 2
// prefix: str.slice(0, 2)
// suffix: str.slice(2)
// non-overlapping ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš° ì •ë‹µì€ 4 ì…ë‹ˆë‹¤.

output = LPS("aaaaa");
console.log(output); // --> 2
// prefix: str.slice(0, 2)
// suffix: str.slice(3)
// non-overlapping ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš° ì •ë‹µì€ 5 ì…ë‹ˆë‹¤.
```

## Advanced

LPSë¥¼ ê³„ì‚°í•˜ëŠ” íš¨ìœ¨ì ì¸ ì•Œê³ ë¦¬ì¦˜(O(N))ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ì‰½ì§€ ì•Šê¸° ë•Œë¬¸ì— ë°”ë¡œ ë ˆí¼ëŸ°ìŠ¤ ì½”ë“œë¥¼ ë³´ê³  ì´í•´í•˜ëŠ” ë° ì§‘ì¤‘í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
ì •ê·œì‹(regular expression)ì„ í™œìš©í•˜ë©´ ì•„ë˜ì²˜ëŸ¼ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •ê·œì‹ì— ëŒ€í•´ì„œ í•™ìŠµí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ([ì°¸ê³ ì‚¬ì´íŠ¸](https://regexr.com/))

```javascript
const LPS = (str) => {
  const result = str.match(/^(\w*).*\1$/);
  return result[1].length;
};
```

---

# 2. ë ˆí¼ëŸ°ìŠ¤ ì½”ë“œ

```javascript
// naive solution
// const LPS3 = function (str) {
//   if (str.length < 2) return 0;

//   // ë¬¸ìì—´ì„ ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ„ê³ 
//   // ë¶€ë¶„ ë¬¸ìì—´ì„ ì‰½ê²Œ êµ¬í•˜ê¸° ìœ„í•´
//   // ì™¼ìª½ ë¶€ë¶„ì˜ ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ì™€ ì˜¤ë¥¸ìª½ ë¶€ë¶„ì˜ ì²« ì¸ë±ìŠ¤ë¥¼ ì €ì¥

//   let halfSize = Math.floor(str.length / 2);
//   // ë¬¸ìì—´ì˜ ê¸¸ì´ê°€ í™€ìˆ˜ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì˜¬ë¦¼í•œë‹¤.
//   let rightStart = Math.ceil(str.length / 2);

//   // ê°€ì¥ ê¸´ LPS í›„ë³´ë¶€í„° ì°¨ë¡€ëŒ€ë¡œ ê²€ì‚¬í•œë‹¤
//   for (let offset = 0; offset < halfSize; offset++) {
//     let matched = true;
//     for (let i = 0; i < halfSize - offset; i++) {
//       if (str[i] !== str[rightStart + offset + i]) {
//         matched = false;
//         break;
//       }
//     }
//     if (matched) return halfSize - offset;
//   }

//   // LPSê°€ ì—†ëŠ” ê²½ìš°
//   return 0;
// };

// naive solution2
// const LPS = function (str) {
//   if (str.length < 2) return 0;

//   // ë¬¸ìì—´ì„ ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ„ê³ 
//   // ê° ë¶€ë¶„ì˜ ì²« ì¸ë±ìŠ¤ë¥¼ ì €ì¥
//   let leftIdx = 0;
//   // ë¬¸ìì—´ì˜ ê¸¸ì´ê°€ í™€ìˆ˜ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì˜¬ë¦¼í•œë‹¤.
//   let rightIdx = Math.ceil(str.length / 2);

//   while (rightIdx < str.length) {
//     if (str[leftIdx] == str[rightIdx]) {
//       // LPS ê²€ì‚¬ë¥¼ ì‹œì‘í•œ ìœ„ì¹˜ë¶€í„° ì§€ê¸ˆê¹Œì§€ ê³„ì† ê°™ì€ ê²½ìš°
//       // ë‹¤ìŒ ë¬¸ìë„ ê°™ì€ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ì´ë™í•œë‹¤.
//       leftIdx++;
//       rightIdx++;
//     } else {
//       // leftIdxê°€ 0ì¸ ê²½ìš°, ë‹¨ìˆœíˆ rightIdxë¥¼ 1 ì¦ê°€ (suffixì˜ ì‹œì‘ì ì„ ë’¤ë¡œ í•œ ì¹¸ ì´ë™)
//       // prefix, suffixê°€ ê³„ì† ì¼ì¹˜í•˜ë‹¤ê°€ ì¤‘ê°„ì—ì„œ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„,
//       // í˜„ì¬ suffixì˜ ì‹œì‘ì ì„ ë’¤ë¡œ í•œ ì¹¸ ì´ë™í•œë‹¤.
//       rightIdx = rightIdx - leftIdx + 1;
//       leftIdx = 0;
//     }
//   }

//   // LPSê°€ ì—†ëŠ” ê²½ìš°
//   return leftIdx;
// };

// dynamic solution: O(N)
// non-overlapping ì¡°ê±´ì„ ì œê±°í•˜ê³  lpsë¥¼ êµ¬í•œë‹¤.
// lpsëŠ” ì£¼ì–´ì§„ ë¬¸ìì—´ì—ì„œ ì•„ë˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê°€ì¥ ê¸´ ì ‘ë‘ì–´(prefix)ì˜ ê¸¸ì´ë¥¼ ì˜ë¯¸í•œë‹¤.
//  - í•´ë‹¹ ì ‘ë‘ì–´ëŠ” ì£¼ì–´ì§„ ë¬¸ìì—´ì˜ ì ‘ë¯¸ì–´(suffix)ì´ê¸°ë„ í•˜ë‹¤.
// ì´ë•Œ, ë¬¸ìì—´ ìê¸° ìì‹ ì€ ê·¸ ìì²´ë¡œ prefixì´ì suffixì¸ë°, ì´ëŠ” ê³ ë ¤ ëŒ€ìƒì—ì„œ ì œì™¸í•œë‹¤.
const LPS = function (str) {
  // lps[i]ëŠ” 0ë¶€í„° iê¹Œì§€ì˜ ë¶€ë¶„ ë¬¸ìì—´, ì¦‰ str.slice(0, i + 1)ì—ì„œ lpsì˜ ê¸¸ì´ë¥¼ ì €ì¥í•œë‹¤.
  const lps = Array(str.length);
  // lps[0]ì€ ê¸¸ì´ê°€ 1ì¸ ë¬¸ìì—´ì˜ lpsì˜ ê¸¸ì´ì´ë¯€ë¡œ í•­ìƒ 0ì´ë‹¤. (ìê¸° ìì‹  í¬í•¨ ê¸ˆì§€)
  lps[0] = 0;
  let leftIdx = 0;
  let rightIdx = 1;
  // lps[i]ë¥¼ 1ë¶€í„°, ì¦‰ ë¬¸ìì—´ì˜ ê¸¸ì´ê°€ 2ì¼ë•Œë¶€í„° ì°¨ë¡€ëŒ€ë¡œ êµ¬í•œë‹¤.
  while (rightIdx < str.length) {
    if (str[leftIdx] === str[rightIdx]) {
      // ê°€ì¥ ë‹¨ìˆœí•œ ê²½ìš°ë¥¼ ìƒê°í•´ë³´ë©´, ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.
      // 1) ê¸¸ì´ê°€ 2 ê²½ìš°
      // 2) ê¸¸ì´ê°€ 3 ì´ìƒì¸ë° ì „ë¶€ ê°™ì€ ë¬¸ìì¸ ê²½ìš°
      // 0ë¶€í„° leftIdxê¹Œì§€ ë§¤ì¹­ì´ ë˜ì—ˆìœ¼ë¯€ë¡œ ë§¤ì¹­ëœ ê¸¸ì´ëŠ” leftIdx + 1ì´ë‹¤.
      leftIdx++;
      lps[rightIdx] = leftIdx;
      rightIdx++;
    } else {
      // ì¤‘ê°„ì— ë§¤ì¹­ì´ ë˜ì§€ ì•Šì€ ê²½ìš°, leftIdxë¥¼ ì¡°ì •í•œë‹¤.
      // í˜„ì¬ lps[0]ë¶€í„° lps[rightIdx - 1]ê¹Œì§€ ê³„ì‚°ì´ ì™„ë£Œëœ ìƒíƒœì´ë‹¤.
      // ì²˜ìŒë¶€í„° ë‹¤ì‹œ prefix, suffix ë§¤ì¹­ì„ í•˜ëŠ” ê²ƒì´ ì›ì¹™ì´ì§€ë§Œ
      // ì•ì„œ ê³„ì‚°í•œ ê²°ê³¼ì¸ lps ë°°ì—´ì„ í†µí•´ ì²˜ìŒìœ¼ë¡œ ë˜ëŒì•„ê°ˆ í•„ìš”ëŠ” ì—†ë‹¤.

      // ì˜ˆ. aaabaaaa
      // í˜„ì¬ leftIdxëŠ” 2, rigthIdxëŠ” 3, lpsëŠ” [0, 1, 2]ì¸ ìƒíƒœë¼ê³  ê°€ì •í•´ë³´ì.
      // leftIdxê°€ 1ì¼ ë•Œê¹Œì§€, ì¦‰ í˜„ì¬ leftIdx ì§ì „(leftIdx - 1)ê¹Œì§€ëŠ” ë§¤ì¹­ì´ ë˜ì—ˆë‹¤.
      if (leftIdx !== 0) {
        leftIdx = lps[leftIdx - 1];
        // Also, note that we do
        // not increment i here
      } else {
        // rightIdxê°€ 1ì¸ ê²½ìš°, ì¦‰ ì²« iterationì¼ ê²½ìš°
        // lps[rightIdx]ê°€ 0ì¸ ê²ƒì€ ëª…ë°±í•˜ë‹¤. (ì˜ˆ. ab)
        // leftIdxê°€ 0ì´ë¼ëŠ” ê²ƒì€ ì²˜ìŒë¶€í„° prefix, suffix ë§¤ì¹­ì„ í•˜ëŠ” ê²½ìš°ì´ë‹¤.
        //
        // lpsê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì´ë‹¤.
        lps[rightIdx] = 0;
        rightIdx++;
      }
    }
  }
  const res = lps[lps.length - 1];
  return res > str.length / 2 ? Math.floor(str.length / 2) : res;
};
```

---

# 3. í‚¤í¬ì¸íŠ¸

---

# 4. ì¶œì²˜
